<div ng-include="'partials/menu-bar.html'"></div>

<div content-for="new">
  <div class="btn btn-navbar sidebar-toggle">
     <i class="fa fa-2x fa-search" ng-click="toggleSearch()"></i>
  </div>

  <div ng-show="showActions" class="btn btn-navbar">
    <i class="fa fa-2x fa-times" ng-click="deleteSubmissions()"></i>
  </div>
  <div ng-show="showActions" class="btn btn-navbar">
    <i class="fa fa-2x fa-upload" ng-click="postSubmissions()"></i>
  </div>

  <div ng-show="!showActions" class="btn btn-navbar sidebar-toggle">
     <i class="fa fa-2x fa-file" ng-hide="projectWarning" ng-click="createSurveyResponse(project_uuid)"></i>
  </div>
  <div ng-show="!showActions" class="btn btn-navbar sidebar-toggle">
     <i class="fa fa-2x fa-arrow-circle-down" ng-hide="projectWarning" ng-click="getChanges()"></i>
  </div>
</div>

<span content-for="title" ng-init="selectedField='all'">
  <span ng-show="!showSearch">{{resourceBundle.submissions}}</span>
  <span ng-show="showSearch" >
  <select ng-show="showSearch" class="pull-left" style="width:20%" ng-model="selectedField">
    <option ng-repeat="(name, label) in searchFields " value="{{name}}">{{label}}</option>
  </select>
  <input ng-show="showSearch" type="search" placeholder="{{resourceBundle.submissions}} Search..." ng-model="searchStr"/>
  </span>
</span>

<div content-for="refreshContents">
    <!-- <i class="fa fa-lg fa-arrow-circle-down" ng-hide="projectWarning" ng-click="$refreshContents()"></i> -->
</div>

<div class="scrollable">  
   <div class="scrollable-content">
        <div class="list-group alert-danger" ng-show="projectWarning">
            <p>{{projectWarning}}</p>
        </div>
    <div class="list-group bg-white">
      <div class="list-group-item project-tab">
      <ul class="nav nav-tabs submission-tab toggle-full-screen" toggleable default="active" inactive-class="hide">
        <li><a href="#Tab1" toggle="on" parent-active-class="active">{{resourceBundle.installed}}</a></li>
        <li><a href="#server-submissions/{{project_uuid}}">{{resourceBundle.server}}</a></li> 
      </ul>
      <div class="tab-content margin-top-10">
        <div class="tab-pane" toggleable active-class="active" default="active" id="Tab1" exclusion-group="myTabs">

              <table id="local-submissions" style="margin-bottom:0px;" class="bg-white table table-condensed">
                  <thead>
                  <tr>
                      <th colspan="2">Created</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="submission" ng-repeat="item in submissions | filter:isSubmissionDisplayable" ng-init="selected=false"
                      ng-class="{'outdated':(item.status=='outdated'), 'server-deleted':(item.status=='server-deleted'),'success':selected}"
                      ng-click="update_selected_submissions(this, item)">
                      <td>
                        <span am-time-ago="item.created" am-preprocess="utc"></span>
                        <p class="small">on {{ item.created | date: "MM/dd/yyyy 'at' hh:mm"}}</p>
                      </td>
                      <td class="cell-align-middle">
                        <a href='#project/{{item.project_uuid}}/submission/{{item.submission_id}}' style='font-weight: bolder; margin-top'>view</a>
                      </td>
                  </tr>
                  <tr ng-show="total>=5">
                    <td colspan="2">
                      <div ng-include="'partials/pagination_tag.html'">
                    </td>
                  </tr>
                 </tbody>
              </table>
            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>
